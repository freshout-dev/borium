{"name":"Borium","tagline":"Borium - Distributed background engine.","body":"## What is Borium\r\n\r\nBorium is a lean queue job library to execute jobs in the background of web applications. It plays well with JavaScript, Python, Ruby, Bash.\r\n\r\nIt’s got two parts\r\n\r\n**The Server:** In charge to keep the pending tasks organized and acts as the central task broker.\r\n\r\n**The Worker:** Processing unit that run the actual tasks.\r\n\r\n## What’s it for?\r\n\r\nThe general use case of Borium is to execute tasks in the background of the web server.\r\n\r\nIt does this efficiently without replicating the entire processing stack. This is accomplished by using lite and specialized workers for every different type of tasks.\r\n\r\nBecause of it’s simple API, you have a lot of flexibility to integrate Borium for uses beyond just background jobs.\r\n\r\n## How does stack up against all the other queue libraries?\r\n\r\n[demo goes here] \r\n\r\n\r\n## What Makes it Special?\r\n\r\n### Distributed\r\n\r\nBorium is distributed out of the box so you can start with a few workers, and then scale to a cluster of computers to scale.\r\n\r\n### Auto Balanced\r\n\r\nThe workers get tasks only when they are free to execute a new job, if more jobs are on the line then more workers can come to handle them.\r\n\r\n### Resilient \r\n\r\nEven if the machine crashes or is turned off, it will continue right where it was at as soon as it gets restarted.\r\n\r\n### Easy integration\r\n\r\nWith a very simple API and a simple text messaging system, Borium can be easily integrated on every framework, no matter the language.\r\n\r\n## Getting Started\r\n\r\n**Installation**\r\n\r\n```bash\r\n$ brew install tokyo-cabinet\r\n$ gem install borium\r\n```\r\n\r\n**Running the server**\r\n\r\n```bash\r\n$ borium\r\n```\r\n\r\n**Passing a job to Borium**\r\n\r\n```bash\r\n$ irb\r\n> require 'borium'\r\n> Borium.put :ruby, 'hello world'\r\n```\r\n\r\n**Live demo**\r\n\r\n<p>\r\n  <img width=\"100%\" alt=\"\" src=\"http://getborium.com/getting_started.gif\"></img>\r\n</p>\r\n\r\n### Configuration\r\n\r\nConfiguration is a JSON file.\r\n\r\n```\r\n// place on /etc/borium/configuration.json\r\n\r\n{\r\n  \"connections\" : 1001,\r\n  \"storage\"     : \"/storage/borium/\",\r\n  \"log\"         : \"/var/log/borium/borium.log\",\r\n  \"port\"        : 8200\r\n}\r\n```\r\n\r\n## Use Cases\r\n\r\n### Background Jobs\r\n\r\nWhen a request to your application needs to perform a task that may take more than a couple of seconds, it is very important to release the web server to handle other requests. You can delegate this tasks to borium and let it handle the tasks.\r\n\r\n**Web Server example**\r\n\r\n```ruby\r\n\r\nrequire 'borium'\r\nrequire 'webrick'\r\n\r\nserver = WEBrick::HTTPServer.new :Port => 8000\r\n\r\nserver.mount_proc '/' do |req, res|\r\n  Borium.put('ruby', 'sleep 5')\r\n  res.body = '{ \"message\" : \"received\" }'\r\nend\r\n\r\nserver.start\r\n\r\n```\r\n\r\n**Worker example**\r\n\r\n```ruby\r\nrequire 'borium'\r\n# require the lib/gems that you need\r\n\r\ndef process_job(job)\r\n  puts \"Executing #{job}\"\r\n  eval job\r\nend\r\n\r\nputs \"Working...\"\r\nloop do\r\n  job = Borium.get('ruby')\r\n\r\n  if job['status'] == 'found'\r\n    process_job job['job'].chomp\r\n  end\r\n\r\n  sleep 0.5\r\nend\r\n```\r\n\r\n### Priority Queues\r\n\r\nThere are many situations when a task needs to be solved right away. You can create a set of workers specialized for high priority tasks and execute them before the low priority ones without special configurations.\r\n\r\n**Start low priority worker**\r\n\r\n```ruby\r\nrequire 'borium'\r\n# require the lib/gems that you need\r\n\r\ndef process_job(job)\r\n  puts \"Executing #{job}\"\r\n  eval job\r\nend\r\n\r\nputs \"Working Low Priority...\"\r\nloop do\r\n  job = Borium.get('ruby-low')\r\n\r\n  if job['status'] == 'found'\r\n    process_job job['job'].chomp\r\n  end\r\n\r\n  sleep 2\r\nend\r\n```\r\n\r\n**Start high priority worker**\r\n\r\n```ruby\r\nrequire 'borium'\r\n# require the lib/gems that you need\r\n\r\ndef process_job(job)\r\n  puts \"Executing #{job}\"\r\n  eval job\r\nend\r\n\r\nputs \"Working High Priority...\"\r\nloop do\r\n  job = Borium.get('ruby-high')\r\n\r\n  if job['status'] == 'found'\r\n    process_job job['job'].chomp\r\n  end\r\n\r\n  sleep 0.1\r\nend\r\n```\r\n\r\n**Send jobs**\r\n\r\n```ruby\r\nrequire 'borium'\r\n5.times { Borium.put('ruby-low', 'sleep 5') }\r\n5.times { Borium.put('ruby-high', 'sleep 5') }\r\n```\r\n\r\n### Image Processing\r\n\r\nImage processing is very intensive on computer resources. You can easily scale these types of applications with Borium with one or more specialized workers across different computers.\r\n\r\n**Start an image processing worker**\r\n\r\n```ruby\r\nrequire 'borium'\r\nrequire 'json'\r\n# require the lib/gems that you need\r\n\r\ndef process_job(jobString)\r\n  puts \"Executing #{job}\"\r\n  job = JSON.parse(jobString)\r\n  system(\"convert #{job['filename']} #{job['filename'].gsub(/\\..*?$/, '.gif')}\")\r\nend\r\n\r\nputs \"Working...\"\r\nloop do\r\n  job = Borium.get('ruby')\r\n\r\n  if job['status'] == 'found'\r\n    process_job job['job'].chomp\r\n  end\r\n\r\n  sleep 0.5\r\nend\r\n```\r\n\r\n### Scheduled Jobs\r\n\r\nWhen you want to deliver a mail, or a notification at a certain time to a user at a specified time. Let Borium do the job without cluttering your server and without other libraries.\r\n\r\n```ruby\r\nrequire 'borium'\r\n\r\n@tasks = []\r\n@running = true\r\ntrap('INT') { @running = false }\r\n\r\ndef schedule(secs, job)\r\n  @tasks.push({ :expiration => Time.now.tv_sec + secs, :job => job })\r\nend\r\n\r\nThread.new do\r\n\r\n  loop do\r\n    sleep 1\r\n    task = @tasks.shift\r\n    next unless task\r\n\r\n    if task[:expiration] <= Time.now.tv_sec\r\n      puts \"SENT: #{task.inspect}\"\r\n      Borium.put(:ruby, task[:job])\r\n    else\r\n      @tasks.unshift(task)\r\n    end\r\n\r\n    break unless @running\r\n  end\r\nend\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}